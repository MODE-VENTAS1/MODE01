function validaLicenciaEstados(){if(0==(clave=document.getElementById("clave-licencia-estados-pedido").value))return!1;jQuery.ajax({url:estados.ajax_url,type:"post",data:{action:"valida_licencia_estados_pedido",clave:clave},beforeSend:function(){jQuery("#boton-licencia-estados-pedido").prop("disabled",!0)},success:function(t){var e=JSON.parse(t);"valid"==e.estado?(jQuery("#estados-pedido-error-licencia").css("border-left-color","#46b450"),jQuery(".licencia-novalida-estados-pedido").css("display","none"),jQuery("#resultado-activacion-estados-pedido").text(e.exito)):(jQuery("#boton-licencia-estados-pedido").prop("disabled",!1),jQuery("#resultado-activacion-estados-pedido").text(e.error))}})}function importaEstados(){var e=[];e.pregunta=meta.getAttribute("data-pregunta"),e.frase=meta.getAttribute("data-frase"),e.si=meta.getAttribute("data-si"),e.no=meta.getAttribute("data-no"),e.exito=meta.getAttribute("data-exito"),e.import=meta.getAttribute("data-import"),swal({title:e.pregunta,text:e.frase,type:"warning",showCancelButton:!0,confirmButtonColor:"#c42030",confirmButtonText:e.si,cancelButtonText:e.no,closeOnConfirm:!1,closeOnCancel:!0},function(t){return!!t&&(swal(e.exito,e.import,"success"),void jQuery.ajax({url:estados.ajax_url,type:"POST",data:{action:"importa_estados"},success:function(t){location.reload()},error:function(t){}}))})}function ordenaEstados(){jQuery("table.posts #the-list").sortable({items:"tr",axis:"y",update:function(t,e){var a=getQueryVariable("post_type"),o=jQuery("#the-list").sortable("serialize"),r=getQueryVariable("paged");void 0===r&&(r=1),jQuery.ajax({url:estados.ajax_url,type:"POST",cache:!1,dataType:"html",data:{action:"actualiza_orden_cpt",cpt:a,orden:o,paged:r},success:function(t){},error:function(t){}})}})}function getQueryVariable(t){for(var e=window.location.search.substring(1).split("&"),a=0;a<e.length;a++){var o=e[a].split("=");if(o[0]==t)return o[1]}return!1}jQuery(document).ready(function(){(meta=document.getElementById("meta-boton-importar-estados"))&&jQuery("body.post-type-"+meta.getAttribute("data-cpt")+" .subsubsub").prepend('<div class="boton-importar-estados"><input class="button button-primary" type="button" value="'+meta.getAttribute("data-texto")+'" onclick="importaEstados();"></div>'),ordenaEstados()});